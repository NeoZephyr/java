查看并发连接数 netstat -nat|grep ESTABLISHED|wc -l

服务器挂起
1. 应用不响应新的请求
2. 请求超时
3. 请求处理的时间越来越长（其最终结果可能是挂起）
4. 服务器直接报500异常（因超过服务器负载导致）

应用挂起原因
1. 所有线程都被占用导致无法新请求无线程可分配处理
2. 远程调用类：所有线程都在等待API调用响应、所有线程都在等待JDBC连接响应、所有线程都在等待对外缓存调用响应
3. 应用死锁：应用程序线程互相等待对方资源释放导致死锁、数据库锁导致大量JDBC等待，最终导致应用挂起
4. JVM异常：GC时间过长导致程序挂起、JIT即时编译导致应用挂起、JVM的bug触发应用挂起
5. 资源竞争或耗尽：大量的IO操作等待导致应用挂起、内存溢出导致应用挂起、磁盘占满导致应用挂起、数据库连接占满、文件描述符占满
6. 配置原因：并发线程配置、系统网络和文件描述符等参数配置

应用挂起排查
1. ping服务器IP
2. telnet服务器IP和应用端口
3. 通过jcmd PID VM.flags查看JVM启动参数
4. 查看资源使用情况如：
top：查看系统资源使用情况
free -g ：查看内存使用明细，物理内存是否占满，开始使用交换分区
df -h ：查看linux服务器的磁盘使用情况，应用使用分区是否已经使用率100%导致无法写入
netstat -an|grep tcp：查看网络连接情况，是否太多连接超过用于允许的文件描述符限制（ulimit -n）

查看是否有Thread Dump 文件，可以通过kill -3 PID生产一个


